<odoo>
  <data>

    <record model="ir.ui.view" id="supervision_obra_supervision_obra_proceso_rutac_form">
    <field name="name">Proceso Ruta Critica</field>
    <field name="model">partidas.partidas</field>
    <field name="arch" type="xml">
        <form create="false" delete="false">
             <sheet>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <h3 colspan="2" align="center"> PROGRAMA DE FRENTES DE TRABAJO</h3>
                    </div>
                </div>

                <group>
                    <field name="numero_contrato" invisible="1"/>
                </group>
                <group>
                    <button name="agregar_frente" type="object" string="Agregar Frente"
                            class="btn btn-info"/>
                </group>

                <group>
                    <field name="ruta_critica" string="# Concepto de partidas" widget='one2many'
                            context="{'default_id_partida': active_id}" nolabel="1" >
                        <tree editable="bottom" delete="false" decoration-info="porcentaje_est == 0" 
                              default_order="numeracion asc" create="false">
                            <!--control>
                                <create string="Agregar Frente"  context="{'default_id_partida': active_id}"/>
                            </control-->
                            <field name="id" invisible="1"/>
                            <field name="numeracion" force_save="1" invisible="1" />
                            <field name="id_partida" invisible="1" force_save="1"/>

                            <field name="frente" string="FRENTE" force_save="1" context="{'default_id_partida': id_partida}"
                                    domain="[('id_partida.id', '=', id_partida)]" attrs="{'invisible': [('name', '!=', False)]}"
                            /> <!-- attrs="{'invisible': [('name', '!=', False)]}" domain="[('id_partida.id', '=', id_partida)]" -->

                            <button name="agregar_frentes_actividades" type="object" string="Agregar Actividad" attrs="{'invisible': [('name', '!=', False)]}"
                                    class="btn btn-success"/>  <!-- attrs="{'invisible': [('name', '!=', False)]}" -->

                            <field name="name"/>
                            <field name="porcentaje_est"   sum="suma porcentaje"/> <!-- attrs="{'invisible': [('name', '=', False)]}" -->
                            <field name="avance_fisico" invisible="1" />


                            <button string="BORRAR" name="borrar" type="object" class="btn btn-danger"
                                    confirm="Esta seguro de borrar este registro?" />
                        </tree>
                    </field>
                </group>
                
                <group>
                    <field string="PORCENTAJE PROGRAMADO" readonly="1" force_save="1" widget="Percent" name="total_" class="oe_subtotal_footer_separator" />
                </group>

                <group>
                  <notebook>
                    <page string="Frentes">
                        <field name="ruta_critica_frentes">
                          <tree>
                            <field name="nombre"/>
                            <button string="BORRAR" name="borrar" type="object" class="btn btn-danger"
                                      confirm="Esta seguro de borrar este registro? Al borrar un frente habiendo
                                      informes de avance creados con este mismo, el registro del informe no desaparecera,
                                      solamente no tendra inclustado el frente" />
                          </tree>
                      </field>
                    </page>
                  </notebook>
                    
                </group>
            </sheet>
        </form>
    </field>
   </record>

  <record id="concepto_ruta_critica_form" model="ir.ui.view">
            <field name="name">ruta critica actividad</field>
            <field name="model">proceso.rc</field>
            <field name="arch" type="xml">
                <form string="">
                    <group>
                        <field name="id_partida" force_save="1" invisible="1"/>
                        <field name="auxiliar_actividad" invisible="1" force_save="1"/>
                        <field name="frente" force_save="1" readonly="1"/>
                        <field name="name"/>
                        <field name="porcentaje_est"/>
                        <field name="auxiliar_actividad" force_save="1" invisible="1" readonly="1"/>
                    </group>

                </form>
            </field>
        </record>


        <record id="concepto_ruta_critica_frente_form" model="ir.ui.view">
            <field name="name">ruta critica frente</field>
            <field name="model">proceso.rc</field>
            <field name="arch" type="xml">
                <form string="">
                    <group>
                        <field name="id_partida" force_save="1" invisible="1"/>
                        <field name="auxiliar_actividad" force_save="1" invisible="1"/>
                        <field name="frente" placeholder="Elije o crea un frente" context="{'default_id_partida': id_partida}"
                            domain="[('id_partida.id', '=', id_partida)]"
                        />
                        <field name="name" invisible="1"/>
                        <field name="porcentaje_est" invisible="1"/>
                    </group>

                </form>
            </field>
        </record>


    <record model="ir.ui.view" id="supervision_obra_tree_partida">
      <field name="name">proceso.elaboracion_contrato.tree3</field>
      <field name="model">partidas.partidas</field>
      <field name="arch" type="xml">
        <tree create="false" default_order="obra desc">
            <field name="fechainicio" string="f. Inicio"/>
            <field name="fechatermino" string="f. Termino"/>
            <field name="ruta_critica" invisible="1"/>
            <field name="nombre_partida" string="# Contrato"/>
            <field name="tipo_obra"/>
            <field name="contratista"/>
            <field name="obra"/>
            <field name="residente_obra" string="Residente" widget="many2many_tags"/> 
            <field name="estado_supervision" />
            
            <field name="total" string="Monto Contrato"/>
            <field name="porcentajeProgramado" string="% Avance Programado" />
            <field name="a_fis" string="A.fis"/>
            <field name="a_fin" string="A.fin"/>
            <field name="ejercicio" invisible="1"/>
            <field name="contar_estimaciones" string="# Est."/>
            <field name="super_residente" invisible="1"/>
        </tree>
      </field>
    </record>

      <!-- RUTA CRITICA -->
 <record model="ir.actions.act_window" id="supervision_obra_proceso_rutac">
      <field name="name">Ruta critica</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">partidas.partidas</field>
      <field name="domain">['|', ('residente_obra','=', uid), ('super_residente','=', uid)]</field>
      <field name="target">current</field>
      <field name="view_mode">tree</field>
     <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('supervision_obra_tree_partida')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('supervision_obra_supervision_obra_proceso_rutac_form')})]"/>
 </record>


  <record id="vista_form_programa_supervision" model="ir.ui.view">
        <field name="name">Programa</field>
        <field name="model">programa.programa_obra</field>
        <field name="priority">17</field>
        <field name="context">17</field>
        <field name="arch" type="xml">
            <form>

                <div class="panel panel-default">
                      <div class="panel-body">
                        <h3 colspan="2" align="center"> PARTIDA:
                            <field name="obra" readonly="1"/> </h3>
                      </div>
                  </div>

                <sheet>
                   <field name="id_prog" invisible="1"/>

                   <group colspan="1" col="4">
                      <field name="fecha_inicio_programa" string="Fecha de Inicio" readonly="1" /> <!-- attrs="{'invisible': [('fecha_inicio_convenida', '!=', False)]}" -->
                      <field name="fecha_termino_programa" string="Fecha de Termino"  readonly="1"/> <!--  attrs="{'invisible': [('fecha_termino_convenida', '!=', False)]}" -->
                      <field name="inicio_anterior" invisible="1" readonly="1"/> <!--  attrs="{'invisible': [('fecha_termino_convenida', '!=', False)]}" -->
                      <field name="termino_nueva" invisible="1" readonly="1"/> <!--  attrs="{'invisible': [('fecha_termino_convenida', '!=', False)]}" -->
                    </group>
                    <hr/>
                    <group colspan="1" col="4">
                      <field name="fecha_inicio_convenida" string="Fecha de Inicio Convenida"  /> <!-- attrs="{'invisible': [('fecha_inicio_convenida', '=', False)]}" -->
                      <field name="fecha_termino_convenida"  string="Fecha de Termino Convenida" /> <!-- attrs="{'invisible': [('fecha_termino_convenida', '=', False)]}" -->
                    </group>
                    <hr/>

                    <group colspan="1" col="6">
                      <field name="total_partida" readonly="True" widget="monetary" string="Monto Contrato/sIva"/>
                      <field name="total_programa" string="Total Programa:" force_save="1"/>
                      <field name="restante_programa" readonly="1"/>
                    </group>

                    <group col="4">
                        <field name="ultima_fecha_inicio" force_save="1" invisible="1"/>
                        <field name="ultima_fecha_termino" force_save="1" invisible="1"/>
                    </group>

                  <group>
                      <field name="programa_contratos" widget='one2many' nolabel="1" context="{
                                   'default_fecha_inicio': ultima_fecha_inicio,
                                   'default_fecha_termino': ultima_fecha_termino,
                                   'default_obra': active_id,
                                   }">
                         <tree editable="bottom" delete="false" decoration-info="mes_actual==True" decoration-bf="mes_actual == True"
                         decoration-warning="mes_restante == True" decoration-danger="mes_ultimo == True"
                         decoration-success="mes_paso == True"
                         create="false"
                         >
                             <control>
                                <create string="Agregar Periodo" context="{
                                   'default_obra': active_id,
                                   }"/>
                             </control>
                             <field name="id_prog" invisible="1"/> <!-- de importacion -->

                             <field name="obra" force_save="1" invisible="1" readonly="1" />
                             <field name="fecha_inicio"/>
                             <field name="fecha_termino"/>
                             <field name="monto" sum="Total:"/>
                             <field name="porcentaje_programa" />
                             <field name="mes_actual" invisible="1"/>
                             <field name="mes_paso" invisible="1"/>
                             <field name="mes_restante" invisible="1"/>
                             <field name="mes_ultimo" invisible="1"/>
                         </tree>
                       </field>
                </group>
                    <!--group class="oe_edit_only">
                        <field name="tipo" widget="radio" class="oe_inline" attrs="{'invisible': [('programa_contratos', '=', [])]}"
                        force_save="1"/>
                        <field name="razon" string="Modificación" attrs="{'invisible': [('programa_contratos', '=', [])]}"
                        force_save="1"/>
                    </group-->

                </sheet>
            </form>
        </field>
    </record>

   <record model="ir.ui.view" id="supervision_obra_proceso_tree">
      <field name="name">proceso.elaboracion_contrato.tree3</field>
      <field name="model">proceso.iavance</field>
      <field name="arch" type="xml">
        <tree default_order="fecha_actual desc">
            <field name="fecha_actual" string="Fecha"/>
            <field name="num_avance" string="# Avance"/>
            <field name="situacion_contrato" string="Situación"/>
            <field name="com_avance_obra" string="Comentario de Avance"/>
            <field name="porcentajeProgramado" string="% Programado" />
            <field name="avance_programado_fecha" string="% A. Prog a la fecha del informe" />
            <field name="porcentaje_estimado" string="% Fisico"/>
            <field name="avance_financiero" string="% Financiero"/>
            <field name="create_date" />
            <field name="create_uid" />
        </tree>
      </field>
    </record>

    <record id="proceso_iavance_report_view_graph" model="ir.ui.view">
            <field name="name">proceso.iavance.report.graph</field>
            <field name="model">proceso.iavance</field>
            <field name="arch" type="xml">
                <graph string="Avance fisico por periodo" stacked="True">
                    <field name="num_avance" type="row"/>
                    <field name="fecha_actual" type="col" interval="month"/>
                    <field name="porcentaje_estimado" string="Avance fisico" type="measure"/>
                </graph>
            </field>
        </record>


    <record model="ir.ui.view" id="supervision_obra_proceso_ivance_form">
    <field name="name">Información de avance</field>
    <field name="model">proceso.iavance</field>
    <field name="arch" type="xml">
        <form >
             <sheet>

              <div class="text-right" modifiers="{}">
                  <button class="btn btn-outline-primary btn-lg" type="object"
                          string=" Subir Galeria"
                          icon="fa-camera"
                          name="galeria_imagenes"
                  />

                  <!--button name="galeria" class="btn btn-outline-primary btn-lg " type="object"
                                string="GALERÍA DE IMÁGENES" context="{
                          'search_default_informe_avance': active_id,
                          }"
                                icon="fa-clock-o"/-->

              </div>

              <div class="panel panel-default">
                  <div class="panel-body">
                      <h3 colspan="2" align="left"> Elija la situación del contrato:</h3>  <field name="situacion_contrato"/>
                  </div>
              </div>
              <div class="panel panel-default">
                  <div class="panel-body">
                      <h3 colspan="2" align="left"> Comentarios generales:</h3><field name="comentarios_generales" placeholder='CAPTURAR COMENTARIOS GENERALES'/>
                  </div>
              </div>


              <div class="panel panel-default">
                  <div class="panel-body">
                      <h3 colspan="2" align="center"> Informes de Avance del contrato: <field name="numero_contrato" readonly="1"/> A la fecha: <field name="fecha_actual" placeholder='CAPTURAR FECHA'/>  </h3>
                  </div>
              </div>
              <sheet>
                  <field name="obra"  invisible="1"/>
                  <group>
                      <field name="porcentajeProgramado" readonly="1" force_save="1" /> 
                      <field name="avance_programado_fecha" readonly="1" force_save="1" string="% A. Prog a la fecha del informe" />
                      <field name="porcentaje_estimado" readonly="1" force_save="1" invisible="1"/>
                  </group>

                  <group>


                      <field name="ruta_critica" string="# Concepto de partidas" widget="one2many">
                          <tree editable="bottom" delete="false" create="false" default_order="numeracion asc"
                          decoration-info="porcentaje_est == 0">
                              <field name="auxiliar_actividad" force_save="1" invisible="1"/>
                              <field name="numeracion" force_save="1" invisible="1"/>
                              <field name="numero_informe" invisible="1" />
                              <field name="numero_contrato" invisible="1" />
                              <field name="frente" string="FRENTE" force_save="1" readonly="1" domain="[('id_partida.id', '=', numero_contrato)]"
                              />
                              <field name="name" readonly="1" force_save="1" string="ACTIVIDADES PRINCIPALES"/>
                              <field name="porcentaje_est" sum="PORCENTAJE PROGRAMADO" force_save="1" readonly="1"
                              attrs="{'invisible': [('porcentaje_est', '=', 0)]}"
                              />

                              <field name="avance_fisico" force_save="1" attrs="{'invisible': [('porcentaje_est', '=', 0)]}"/>
                              <!--field name="ejercicio" /attrs="{'invisible': [('name', '!=', False)]}"  attrs="{'invisible': [('name', '=', False)]}" attrs="{'invisible': [('name', '=', False)]}"-->
                              <field name="avance_fisico_ponderado" sum="% AVANCE TOTAL" readonly="1" force_save="1"
                              attrs="{'invisible': [('porcentaje_est', '=', 0)]}"
                              />
                          </tree>
                      </field>

                      <group class="oe_subtotal_footer">
                          <h6 style="position:relative;
                                            display: inline-block;
                                                left: -43px;
                                                top: -50px;
                                        white-space: nowrap;"> % AVANCE TOTAL:  </h6>
                      </group>

                      <group>
                          <h6 style=" position:relative;
                                          display: inline-block;
                                              left: 310px;
                                              top: -47px;
                                        white-space: nowrap;"> PORCENTAJE PROGRAMADO:  </h6>
                      </group>

                  </group>
                  <div class="panel panel-default">
                      <div class="panel-body">
                          <h3 colspan="2" align="left"> Comentarios sobre los avances de obra:</h3><field name="com_avance_obra" placeholder='CAPTURAR COMENTARIOS SOBRE LOS AVANCES DE LA OBRA'/>
                      </div>
                  </div>
              </sheet>
          </sheet>
          
        </form>
    </field>
   </record>

          <record model="ir.actions.act_window" id="supervision_obra_proceso_informe_avance">
          <field name="name">Informe de avance</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">proceso.iavance</field>
          <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('supervision_obra_proceso_tree')}),
            (0, 0, {'view_mode': 'graph', 'view_id': ref('proceso_iavance_report_view_graph')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('supervision_obra_proceso_ivance_form')})]"/>
    </record>


      <record id="comentarios_supervision_form" model="ir.ui.view">
          <field name="name">Comentarios Supervision</field>
          <field name="model">partidas.partidas</field>
          <field name="arch" type="xml">
              <form string="">
                  <sheet>
                      <group>
                          <field name="comentarios_supervision" widget='one2many'>
                              <tree editable="bottom">
                                   <control>
                                        <create string="Agregar Comentario"  context="{'default_partida': active_id}"/>
                                    </control>

                                  <field name="partida" force_save="1" invisible="1"/>
                                  <field name="fecha_registro"/>
                                  <field name="comentario"/>
                              </tree>
                          </field>
                      </group>
                  </sheet>
              </form>
          </field>
      </record>

       <record model="ir.actions.act_window" id="comentarios_supervision_action">
          <field name="name">Comentarios de Supervision</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">partidas.partidas</field>
           <field name="target">new</field>
          <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'form', 'view_id': ref('comentarios_supervision_form')})]"/>
    </record>

    <record model="ir.actions.act_window" id="supervision_obra_action_estimaciones">
        <field name="name">Estimaciones</field>
        <field name="res_model">control.estimaciones</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_ids" eval="[(5, 0, 0),
    (0, 0, {'view_mode': 'tree', 'view_id': ref('ejecucion_obra.control_estimaciones_estimaciones_tree')}),
    (0, 0, {'view_mode': 'form', 'view_id': ref('ejecucion_obra.control_estimaciones_estimaciones_form')})]"/>
    </record>

     <record model="ir.ui.view" id="supervision_obra_proceso_rc">
      <field name="name">Ruta critica</field>
      <field name="model">partidas.partidas</field>
      <field name="arch" type="xml">
        <form create="false" delete="false">
          <header>
            <button string="Descargar Finiquito" name="imprimir_accion_excel" type="object"
                      icon="fa-book" class="btn btn-outline-success"/>
            <button string="Descargar Catalogo de Conceptos" name="decargar_catalogo_excel" type="object"
                    icon="fa-book" class="btn btn-outline-success"/>

            <button class="btn btn-outline-primary btn-lg" type="object"
                     string="Generar Documentos de cierre"
                     icon="fa-file"
                     name="reporte_finiquito"
                     /> 
          </header>



          <div class="container">
                <div class="row">
                    <div class="col-sm-4" style="text-align: left;">
                        <button name="ProgramasVentanaSupervision" class="btn btn-outline-primary btn-lg" type="object"
                             string="Programa de Obra" context="{'default_obra': active_id, 'default_obraid': id}"
                             icon="fa-clock-o"/>

                        <button type="action" name="%(supervision_obra_action_estimaciones)d" class="btn btn-outline-primary btn-lg"
                                string=" " context="{
                                'search_default_obra': active_id,
                                'default_obra': active_id
                                }"  icon="fa-usd">
                                <field name="contar_estimaciones" widget="statinfo" string="Estimaciones"/>
                        </button>

                    </div>

                    <div class="col-sm-8" style="text-align: right;">
                        <button class="btn btn-outline-primary btn-lg" type="object" string=" Galeria" icon="fa-camera" name="galeria_imagenes" />  

                        <button  name="%(comentarios_supervision_action)d" type="action" class="btn btn-outline-primary btn-lg"
                                  string="Comentarios de Supervision"
                                  icon="fa-book" attrs="{'invisible': [('total_', '&lt;', 100)]}"/>

                        <button name="ruta_critica_over" type="object" class="btn btn-outline-primary">
                          <field name="total_" string="Ruta critica" widget="percentpie" />
                        </button>
                        <p attrs="{'invisible': [('total_', '=', 100)]}" style="color: #DF0101; font-size: 15px;"> LA RUTA CRITICA NO ESTA AL 100%</p>

                        <button  name="%(supervision_obra_proceso_informe_avance)d" type="action" class="btn btn-outline-primary btn-lg"
                          context="{'search_default_numero_contrato': active_id,
                          'default_numero_contrato': active_id}" string="Informe de avance"
                          icon="fa-book" attrs="{'invisible': [('total_', '&lt;', 100)]}"/>
                    </div>
                </div>
            </div>

                    <!--div class="oe_button_box" name="button_box" >
                          
                    </div-->

          <sheet>

           
          
            <div class="text-right">
                <div>
                  <strong> Estado de supervision</strong> 
                </div>
                <div>
                  <field name="estado_supervision" class="oe_inline"/>
                </div>
                 
              </div>

            <div class="text-right">

                <div>
                  <strong> Seleccionar Fecha de la Simulacion de Avance Programado</strong> 
                </div>
                <div>
                  <field name="fecha_simulacion" class="oe_inline"/>
                </div>   
            </div>

            <div class="text-right">
                <div>
                  <strong> Avance programado simulado</strong> 
                </div>
                <div>
                  <field name="avance_programado_fecha" force_save="1" class="oe_inline" readonly="1"/>
                </div>  
            </div>
              

          <notebook>
              <page string="Datos Generales de la Partida">



              <div>
                <b>Nombre de la Obra: </b>
              </div>
                <group>

                    <field name="obra" nolabel="1" readonly="1"/>
                </group>

                    <hr/>
                <group colspan="2" col="5" context="{'default_ejercicio': obra.id}">
                    <b>Programa</b>
                    <b>Ejercicio</b>
                    <b>Monto</b>
                    <b>Municipio</b>
                    <b>Localidad</b>
                </group>
                <group colspan="2" col="6">
                    <field name="programaInversion" readonly="True" string="" nolabel="1"/>
                    <field name="ejercicio" string="" nolabel="1" readonly="True"/>
                    <field name="total_partida" widget="monetary" string="" nolabel="1" readonly="True"/>
                    <field name="municipio" string="" nolabel="1" readonly="True"/>
                    <field name="localidad" string="" nolabel="1"/>
                </group>
                  <hr/>
                <group colspan="2" col="5">
                    <b>Fecha del Anticipo</b>
                    <b>Fecha del contrato</b>
                    <b>Fecha de Inicio Contractual</b>
                    <b>Fecha de Termino Contractual</b>
                    <b>Supervision Externa</b>
                </group>



                <group colspan="2" col="6">
                  <field name="fecha_anticipos" readonly="1" string="" nolabel="1"/>
                  <field name="fecha" string="" nolabel="1"/>
                  <field name="fechainicio" string="" nolabel="1"/>
                  <field name="fechatermino" string="" nolabel="1"/>
                  <field name="supervisionexterna1" string="" nolabel="1"/>
                </group>
                  <field name="odoo_user_admin" invisible="1" /> 
                  <field name="odoo_user_oscar" invisible="1" />
              </page>

              <page string="Catálogo de Conceptos">
                <div class="panel-body">
                  <h2 colspan="2" align="left"> Catálogo de Niveles/Conceptos del Contrato: <field name="numero_contrato" nolabel="1"/></h2>
                </div>
                <group>
                  <group colspan="2" col="6">
                      <field name="total" />
                      <field name="total_catalogo" readonly="1"/>
                      <field name="diferencia"  class="o_light_label"/>
                  </group>

                  <field name="conceptos_partidas" string="# Concepto de partidas" widget="one2many" readonly="1">
                    <tree decoration-info="precio_unitario == 0"
                    decoration-bf="precio_unitario == 0">
                        <field name="clave_linea"/>
                        <field name="related_categoria_padre" invisible="1"/>
                        <field name="categoria"  />  <!--  -->
                        <field name="concepto"/>
                        <field name="medida"/>

                        <field name="id_partida" force_save="1" invisible="1"  />

                        <field name="cantidad" attrs="{'invisible':[('cantidad','=',0)]}"/>
                        <field name="precio_unitario" attrs="{'invisible':[('precio_unitario','=',0.0)]}"/>
                        <field name="importe" sum="importe" attrs="{'invisible':[('importe','=',0.0)]}"/>
                    </tree>
                  </field>

                  <group class="oe_subtotal_footer">
                          <h6 style="position:relative;
                                        display: inline-block;
                                            left: -75px;
                                            top: -50px;
                                    white-space: nowrap;"> TOTAL:  </h6>
                  </group>
                </group>
              </page>

              <page string="Datos de finiquito para documentos de cierre">
                      <group string="Datos cierre contrato">
                      
              </group> 
          

              <group col="6">
              <!-- TRABAJOS -->
                <field name="fecha1" class="oe_inline"/>
                <field name="fecha2" class="oe_inline"/>
                <field name="numero"/>
              </group>
              <!-- BITACORA -->
              <group col="6">
                
                <field name="nota1"/>
                <field name="fecha3"/>
                <field name="fecha4"/>
              </group>
              <!-- CONTRATO-->
              <group col="6">
              
                <field name="fecha5"/>
                <field name="fecha6"/>
                <field name="fecha7"/>
              </group>
              <!-- TRABAJOS -->
              <group col="6">
              
                <field name="fecha8"/>
                <field name="fecha9"/>
                <field name="fecha10" class="oe_inline"/>
              </group>
              <!-- 2 -->
              <group col="6">
                
                <field name="fecha11" class="oe_inline"/>
                <field name="description"/>
                <field name="creditosContra"/>
              </group>
              <!-- 2 -->
              <group col="4">
              
                </group>
              </page>
            
            </notebook>
          </sheet>
         
        </form>
      </field>
    </record>


      <record model="ir.ui.view" id="supervision_obra_proceso_ivance__search">
        <field name="name">Información de avance</field>
        <field name="model">proceso.iavance</field>
        <field name="arch" type="xml">
          <search>
            <filter name="group_contrato" string="Contrato" context="{'group_by':'numero_contrato'}"/>
            <field name="numero_contrato" />
            <field name="fecha_actual" />
            <field name="com_avance_obra" string="Comentario de Avance" />
            <field name="situacion_contrato" />
          </search>
        </field>
      </record>

   
      <record model="ir.ui.view" id="search_view_rutainforme">
        <field name="name">Informe de avance</field>
        <field name="model">partidas.partidas</field>
        <field name="arch" type="xml">
              <search>
                 <field name="nombre_partida" string="# Contrato"/>
                 <field name="contratista"/>
                 <field name="obra"/>
                 <field name="fechainicio" string="f. Inicio"/>
                <field name="fechatermino" string="f. Termino"/>
                <field name="ruta_critica" invisible="1"/>
                <field name="ejercicio"/>
                <field name="tipo_obra"/>
                <field name="residente_obra" string="Residente" widget="many2many_tags"/>
                <field name="total_partida" string="Total"/>
                <field name="a_fis" string="A.fis"/>
                <field name="a_fin" string="A.fin"/>

                 <filter name="group_nombre_programa" string="Programa de Inversion" context="{'group_by':'programaInversion'}"/>
             <filter name="group_tipo_estado_obra" string="Estado Semaforo" context="{'group_by':'tipo_estado_obra'}"/>
             <filter name="group_municipio" string="Municipio" context="{'group_by':'municipio'}"/>

            <separator/>
            <filter string=" --- Ejercicio ---" name="ejercicio"/>
                 <separator orientation="vertical" />
            <filter string="2023" name="ejercicio" domain="[('ejercicio.name', '=', '2023')]" />
            <filter string="2022" name="ejercicio" domain="[('ejercicio.name', '=', '2022')]" />
            <filter string="2021" name="ejercicio" domain="[('ejercicio.name', '=', '2021')]" />
            <filter string="2020" name="ejercicio" domain="[('ejercicio.name', '=', '2020')]" />
            <filter string="2019" name="ejercicio" domain="[('ejercicio.name', '=', '2019')]"/>
            <filter string="2018" name="ejercicio" domain="[('ejercicio.name', '=', '2018')]"/>
            <filter string="2017" name="ejercicio" domain="[('ejercicio.name', '=', '2017')]"/>
            <filter string="2016" name="ejercicio" domain="[('ejercicio.name', '=', '2016')]"/>
            <filter string="2015" name="ejercicio" domain="[('ejercicio.name', '=', '2015')]"/>
            <separator/>
             <separator string="Tipo de la Obra"/>
             <filter string=" --- Tipo de Obra ---" name="tipo_obra"/>
                 <separator orientation="vertical" />
             <filter string="OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'OBRA')]" />
             <filter string="ESTUDIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ESTUDIOS')]" />
             <filter string="EQUIPO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'EQUIPO')]" />
             <filter string="PROYECTO" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'PROYECTO')]" />
             <filter string="SUPERVISIÓN EXTERNA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SUPERVISIÓN EXTERNA')]" />
             <filter string="REMODELACIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'REMODELACIÓN')]" />
             <filter string="SERVICIOS" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'SERVICIOS')]" />
             <filter string="VERIFICACIÓN ELÉCTRICA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'VERIFICACIÓN ELÉCTRICA')]" />
             <filter string="CONTROL DE CALIDAD" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'CONTROL DE CALIDAD')]" />
             <filter string="DIRECTOR RESPONSABLE DE OBRA" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'DIRECTOR RESPONSABLE DE OBRA')]" />
             <filter string="ADQUISICIÓN" name="tipo_obra" domain="[('tipo_obra.tipo_obra', '=', 'ADQUISICIÓN')]" />
             </search>
        </field>
      </record>

    <!-- ACCION HACIA EL TREEVIEW PARA ACCESAR A LOS INFORMES Y RUTA -->
    <record model="ir.actions.act_window" id="supervision_obra_proceso_supervicion_obra">
      <field name="name">RUTA CRITICA E INFORMES DE AVANCE</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">partidas.partidas</field>
      <field name="view_mode">tree,form</field>
      <field name="domain">['|', ('residente_obra','=', uid), ('super_residente','=', uid)]</field>
        <field name="search_view_id" ref="search_view_rutainforme"/>
        <!--field name="context">{'search_default_create_uid': 2}</field-->
      <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('supervision_obra_tree_partida')}),
            (0, 0, {'view_mode': 'form', 'view_id': ref('supervision_obra_proceso_rc')})]"/>
    </record>

    <record id="supervision_obra_cat_supervision_obra_ruta_tree" model="ir.ui.view">
      <field name="name">categoria ruta</field>
      <field name="model">proceso.frente</field>
      <field name="arch" type="xml">
        <tree string="">
          <field name="nombre"/>
           <field name="id_partida" force_save="1"/>
        </tree>
      </field>
    </record>

      <record id="supervision_obra_ruta_critica_form" model="ir.ui.view">
        <field name="name">Ruta Critica form</field>
        <field name="model">proceso.frente</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <field name="nombre"/>
                         <field name="id_partida" force_save="1"/>
                    </group>
                </sheet>
            </form>
        </field>
      </record>

      <record id="supervision_obra_cat_supervision_obra_ruta_action" model="ir.actions.act_window">
          <field name="name">cat ruta action</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">proceso.frente</field>
          <field name="view_mode">tree</field>
          <field name="help" type="html">
            <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK --> 
            </p>
          </field>
      </record>

      <record id="supervision_obra_ruta_tree" model="ir.ui.view">
          <field name="name">ruta critica import</field>
          <field name="model">proceso.rc</field>
          <field name="arch" type="xml">
              <tree string="">
                  <field name="frente"/>
                  <field name="name"/>
                  <field name="porcentaje_est"/>
              </tree>
          </field>
      </record>

      <record id="supervision_obra_ruta_action" model="ir.actions.act_window">
          <field name="name">ruta action</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">proceso.rc</field>
          <field name="view_mode">tree</field>
          <field name="help" type="html">
            <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK --> 
            </p>
          </field>
      </record>

      <record id="supervision_obra_rca_tree" model="ir.ui.view">
          <field name="name">rca tree</field>
          <field name="model">proceso.rc_a</field>
          <field name="arch" type="xml">
              <tree string="">
                  <field name="numero_contrato"/>
                  <field name="frente"/>
                  <field name="porcentaje_est"/>
                  <field name="avance_fisico"/>
                  <field name="avance_fisico_ponderado"/>
              </tree>
          </field>
      </record>

      <record id="supervision_obra_rca_Action" model="ir.actions.act_window">
          <field name="name">rca action import</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">proceso.rc_a</field>
          <field name="view_mode">tree,form</field>
          <field name="help" type="html">
            <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK -->
            </p>
          </field>
      </record>

      <!-- FORMULARIO DE GALERIA -->
      <record model="ir.ui.view" id="supervision_obra_avance_fisico_financiero_form">
      <field name="name">Avances Físicos Financieros</field>
      <field name="model">partidas.partidas</field>
      <field name="arch" type="xml">
        <form>
            <sheet>
                    <hr/>
                    <field name="verif_programa" readonly="1" invisible="1"/>

                   <group  colspan="2" col="4">
                            <div>
                            <b>Nombre de la Obra: </b>
                        </div>
                        <field name="obra" nolabel="1" readonly="1"/>
                         <p attrs="{'invisible': [('verif_programa', '=', True)]}"
                            align="right" style="color: #DE0C0C">No hay Programa Para La Estimación*</p>
                   </group>
                            <hr/>
                        <group colspan="2" col="5" context="{'default_ejercicio': obra.id}">
                            <b>Programa</b>
                            <b>Ejercicio</b>
                            <b>Monto</b>
                            <b>Municipio</b>
                            <b>Localidad</b>
                        </group>
                        <group colspan="2" col="6">
                            <field name="programaInversion" readonly="True" string="" nolabel="1"/>
                            <field name="ejercicio" string="" nolabel="1" readonly="1"/>
                            <field name="total_partida" widget="monetary" string="" nolabel="1" readonly="1"/>
                            <field name="municipio" string="" nolabel="1" readonly="1"/>
                            <field name="localidad" string="" nolabel="1"/>
                        </group>
                          <hr/>
                        <group colspan="2" col="5">
                            <b>Fecha del Anticipo</b>
                            <b>Fecha del contrato</b>
                            <b>Fecha de Inicio Contractual</b>
                            <b>Fecha de Termino Contractual</b>
                            <b>Supervision Externa</b>
                        </group>

                        <group colspan="2" col="6">
                          <field name="fecha_anticipos" readonly="1" string="" nolabel="1"/>
                          <field name="fecha" string="" nolabel="1"/>
                          <field name="fechainicio" string="" nolabel="1"/>
                          <field name="fechatermino" string="" nolabel="1"/>
                          <field name="supervisionexterna1" string="" nolabel="1"/>
                  </group>

               <group>
                  <field name="galleria" nolabel="1"  widget="one2many_list" context="{'default_id_partida': active_id}">
                      <tree>
                        <field name="frente" domain="[('id_partida.id', '=', id_partida)]" />
                        <field name="imagen" widget="image_multi" />
                          <field name="id_partida" invisible="1" />
                      </tree>
                    </field>
               </group>
               </sheet>
        </form>
      </field>
    </record>

      <record id="supervision_obra_avances_fisico_financieros_tree" model="ir.ui.view">
          <field name="name">Avances Físicos Financieros</field>
          <field name="model">partidas.partidas</field>
          <field name="arch" type="xml">
              <tree string="" default_order="obra desc">
                  <field name="galleria"/>
                  <field name="nombre_partida"/>
                    <field name="obra"/>
                    <field name="programaInversion" />
              </tree>
          </field>
      </record>

      

      <record id="supervision_obra_avances_fisicos_financieros_action" model="ir.actions.act_window">
          <field name="name">Avances Físicos Financieros</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">partidas.partidas</field>
          <field name="view_mode">tree,form</field>
          <field name="view_ids" eval="[(5, 0, 0),
    (0, 0, {'view_mode': 'tree', 'view_id': ref('supervision_obra_avances_fisico_financieros_tree')}),
    (0, 0, {'view_mode': 'form', 'view_id': ref('supervision_obra_avance_fisico_financiero_form')})]"/>
      </record>


  <menuitem name="Supervisión de Obra" id="supervision_obra.menu_root" sequence="0" web_icon="supervision_obra,static/description/icon.png"/>

    <!--menuitem name="Control de Estimaciones" id="control_esstimacion" parent="supervision_obra.menu_root"
              action="supervision_obra_control_estimacion_action_window" sequence="2"/-->

    <menuitem name="Supervisión de Obra" id="supervicion_obra" parent="supervision_obra.menu_root"
              action="supervision_obra_proceso_supervicion_obra" sequence="1"/>

    <menuitem name="Informes de avance" id="informe_avance_consulta" parent="supervision_obra.menu_root"
              action="supervision_obra_proceso_informe_avance" sequence="2"/>
              

      <!--menuitem name="Avances Físicos Financieros" id="avances_fisicos_financieros_menu" parent="supervision_obra.menu_root"
              action="supervision_obra_avances_fisicos_financieros_action" sequence="5"/-->

              <!-- menuitem name="IMPORT CAT RUTA" id="cat_ruta2" parent="ejecucion_obra.menu_root"
              action="supervision_obra_cat_supervision_obra_ruta_action" sequence="7"/-->

      <menuitem name="Registro Ruta rc, Debug de desarrollo" id="cat_ruta" parent="ejecucion_obra.menu_root"
      action="supervision_obra_ruta_action" sequence="8"/>

      <!--menuitem name="IMPORT RCA" id="supervision_obra_rca_Actione" parent="ejecucion_obra.menu_root"
              action="supervision_obra_rca_Action" sequence="9"/-->

  </data>
</odoo>
